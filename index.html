<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vinted Feed - Demo</title>
<style>
/* Reset & Global */
* { box-sizing: border-box; margin:0; padding:0; font-family: "Poppins", sans-serif; }
body { background: #f5f5f5; color:#333; display:flex; flex-direction:column; align-items:center; justify-content:flex-start; min-height:100vh; transition: background 0.3s, color 0.3s; }
.dark-mode { background:#121212; color:#f1f1f1; }

/* Header */
header { position:fixed; top:0; width:100%; height:60px; display:flex; justify-content:flex-end; align-items:center; padding:0 16px; background:rgba(255,255,255,0.9); backdrop-filter:blur(8px); box-shadow:0 1px 5px rgba(0,0,0,0.05); z-index:1000; transition: background 0.3s;}
.dark-mode header { background:rgba(25,25,25,0.9); }

/* Param√®tres bouton */
#settings-btn { width:40px; height:40px; border-radius:50%; display:flex; align-items:center; justify-content:center; background:#2f80ed; cursor:pointer; margin-left:10px; transition: transform 0.2s; }
#settings-btn img { width:24px; height:24px; }
#settings-btn:hover { transform: scale(1.1); }

/* Settings panel */
#settings { position:fixed; top:70px; right:10px; background:#fff; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.2); padding:12px; width:220px; display:none; z-index:1000; transition: background 0.3s;}
.dark-mode #settings { background:#1f1f1f; color:#fff; }
#settings h4 { margin-bottom:8px; text-align:center; }
#settings label { display:flex; align-items:center; margin:6px 0; font-size:0.9em; cursor:pointer; }
#settings input[type="checkbox"] { margin-right:6px; }
#settings button { width:100%; margin-top:6px; padding:8px; border:none; border-radius:8px; cursor:pointer; font-weight:600; transition: transform 0.2s; }
#settings button:hover { transform: scale(1.03); }

/* Main */
main { margin-top:70px; width:90%; max-width:500px; text-align:center; display:flex; flex-direction:column; align-items:center; }
.card { background:#fff; border-radius:16px; box-shadow:0 6px 18px rgba(0,0,0,0.08); overflow:hidden; display:flex; flex-direction:row; width:100%; max-width:500px; margin-bottom:20px; transition: transform 0.3s, background 0.3s;}
.dark-mode .card { background:#1f1f1f; }
.card img { width:50%; height:250px; object-fit:contain; background:#f9f9f9; border-top-left-radius:16px; border-bottom-left-radius:16px; }
.card .info { flex:1; padding:12px; text-align:left; display:flex; flex-direction:column; justify-content:space-between; }
.info h2 { font-size:1.1rem; margin:4px 0; }
.info p { font-size:0.9rem; margin:2px 0; }
.price { color:#2f80ed; font-weight:600; font-size:1rem; margin-top:6px; }
.btns { display:flex; justify-content:space-around; margin-top:12px; }
button.main-btn { flex:1; margin:0 4px; padding:10px; border:none; border-radius:12px; font-weight:600; cursor:pointer; transition: transform 0.2s; }
button.main-btn:hover { transform: scale(1.05); }
#skip-btn { background:#666; color:#fff; }
#fav-btn { background:#f44336; color:#fff; }
#vinted-btn { background:#2f80ed; color:#fff; }

/* Notification meilleur article */
#notif { position:fixed; top:80px; left:10px; background:#2f80ed; color:#fff; padding:8px 12px; border-radius:12px; display:none; z-index:1000; font-size:0.85em; box-shadow:0 4px 12px rgba(0,0,0,0.2); }

/* Popups */
.popup { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#fff; padding:16px; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.2); width:90%; max-width:400px; display:none; flex-direction:column; z-index:1000; }
.dark-mode .popup { background:#1f1f1f; color:#fff; }
.popup h4 { margin-bottom:10px; text-align:center; }
.popup button.close-btn { position:absolute; top:8px; right:8px; background:#f44336; color:#fff; border:none; border-radius:50%; width:28px; height:28px; cursor:pointer; }

/* Responsive */
@media(max-width:500px){
  .card { flex-direction:column; }
  .card img { width:100%; border-radius:16px 16px 0 0; height:200px; }
  .card .info { text-align:center; }
  .btns { flex-direction:column; }
  .btns button { margin:6px 0; }
}
</style>
</head>
<body>

<header>
  <div id="settings-btn"><img src="https://cdn-icons-png.flaticon.com/512/906/906175.png" alt="Param√®tres"></div>
</header>

<div id="settings">
  <h4>Param√®tres</h4>
  <label><input type="checkbox" id="darkToggle"> Mode Sombre/Clair</label>
  <button id="vip-btn">Devenir VIP - 4.99‚Ç¨/mois</button>
  <button id="fav-settings">Favoris</button>
  <button id="hist-settings">Historique</button>
  <label><input type="checkbox" id="notif-toggle"> Notifications Meilleur Article</label>
  <label><input type="checkbox" id="delay-toggle"> 0 Delay</label>
  <button id="marque-pref">Marque Pr√©f√©r√©e</button>
</div>

<div id="notif">Meilleur article disponible !</div>

<main>
  <div class="card" id="card">
    <img id="item-img" src="" alt="Article">
    <div class="info">
      <div>
        <h2 id="item-title"></h2>
        <p id="item-brand"></p>
        <p id="item-size"></p>
        <p id="item-condition"></p>
        <div class="price" id="item-price"></div>
      </div>
      <div class="btns">
        <button class="main-btn" id="skip-btn">‚è≠ Skip</button>
        <button class="main-btn" id="fav-btn">‚ù§Ô∏è Favoris</button>
        <button class="main-btn" id="vinted-btn">üõç Voir sur Vinted</button>
      </div>
    </div>
  </div>
</main>

<!-- Popups -->
<div class="popup" id="vip-popup">
  <button class="close-btn">√ó</button>
  <h4>VIP Activ√© !</h4>
  <p>Fonctionnalit√©s VIP :</p>
  <ul>
    <li>0 Delay</li>
    <li>Notification Meilleur Article</li>
    <li>Marque Pr√©f√©r√©e</li>
    <li>Favoris</li>
    <li>Historique</li>
    <li>Nouvel article toutes les 5s</li>
  </ul>
  <p id="vip-time"></p>
</div>

<div class="popup" id="hist-popup">
  <button class="close-btn">√ó</button>
  <h4>Historique</h4>
  <div id="hist-list"></div>
  <button id="clear-hist">Tout supprimer</button>
</div>

<div class="popup" id="fav-popup">
  <button class="close-btn">√ó</button>
  <h4>Favoris</h4>
  <div id="fav-list"></div>
  <button id="clear-fav">Tout supprimer</button>
</div>

<div class="popup" id="marque-popup">
  <button class="close-btn">√ó</button>
  <h4>Marques Pr√©f√©r√©es</h4>
  <div id="marque-list"></div>
</div>

<script>
// Articles factices
const items = [
  {title:"Sweat Nike Tech", brand:"Nike", size:"M", condition:"Tr√®s bon √©tat", price:"45‚Ç¨", link:"#", image:"https://cdn-icons-png.flaticon.com/512/925/925123.png"},
  {title:"T-shirt Dior", brand:"Dior", size:"L", condition:"Neuf", price:"90‚Ç¨", link:"#", image:"https://cdn-icons-png.flaticon.com/512/925/925123.png"},
  {title:"Jean Levi's 501", brand:"Levi's", size:"42", condition:"Bon √©tat", price:"55‚Ç¨", link:"#", image:"https://cdn-icons-png.flaticon.com/512/925/925123.png"},
  {title:"Veste Zara", brand:"Zara", size:"S", condition:"Tr√®s bon √©tat", price:"35‚Ç¨", link:"#", image:"https://cdn-icons-png.flaticon.com/512/925/925123.png"},
];

// Marques pr√©f√©r√©es
const marques = ["Nike","Adidas","Ralph Lauren","CP Company","Dior","Levi's","Zara","Gucci","Puma","Balenciaga","Supreme","New Era","Fila","Jordan","Reebok","Tommy Hilfiger","Vans","H&M","The North Face","Converse"];

let index=0, vip=false, vipTime=0, hist=[], fav=[], notif=true, zeroDelay=false;

// Affichage article
function showItem(){
  const item = items[index];
  document.getElementById("item-img").src = item.image;
  document.getElementById("item-title").textContent = item.title;
  document.getElementById("item-brand").textContent = "Marque : " + item.brand;
  document.getElementById("item-size").textContent = "Taille : " + item.size;
  document.getElementById("item-condition").textContent = "√âtat : " + item.condition;
  document.getElementById("item-price").textContent = item.price;
  document.getElementById("vinted-btn").onclick = ()=>window.open(item.link,"_blank");
}
showItem();

// Skip
document.getElementById("skip-btn").addEventListener("click",()=>{
  hist.push(items[index]);
  index = (index + 1) % items.length;
  showItem();
});

// Favoris
document.getElementById("fav-btn").addEventListener("click",()=>{
  if(!fav.includes(items[index])) fav.push(items[index]);
  showNotif("Article ajout√© aux favoris !");
});

// Notifications
function showNotif(txt){
  const n = document.getElementById("notif");
  if(!vip && !notif) return;
  n.textContent = txt; n.style.display="block";
  setTimeout(()=>{n.style.display="none";},2000);
}

// Param√®tres panel
const settingsBtn = document.getElementById("settings-btn");
const settings = document.getElementById("settings");
settingsBtn.addEventListener("click",()=>{settings.style.display = settings.style.display==="flex"?"none":"flex";});

// Mode sombre
document.getElementById("darkToggle").addEventListener("change",()=>{document.body.classList.toggle("dark-mode");});

// Popups
function openPopup(id){document.getElementById(id).style.display="flex";}
function closePopup(id){document.getElementById(id).style.display="none";}
document.querySelectorAll(".close-btn").forEach(b=>b.addEventListener("click",()=>closePopup(b.parentElement.id)));

// VIP
const vipBtn = document.getElementById("vip-btn");
vipBtn.addEventListener("click",()=>{
  vip = true; vipTime = 60; // 1 minute pour test
  openPopup("vip-popup");
  updateVIPTime();
});
function updateVIPTime(){
  if(!vip) return;
  const t = document.getElementById("vip-time");
  t.textContent = `Temps restant VIP : ${Math.floor(vipTime/60)}m ${vipTime%60}s`;
  if(vipTime>0){vipTime--; setTimeout(updateVIPTime,1000);}
  else {vip=false; showNotif("VIP expir√© !");}
}

// Historique
document.getElementById("hist-settings").addEventListener("click",()=>{openPopup("hist-popup"); updateHist();});
function updateHist(){
  const div = document.getElementById("hist-list");
  div.innerHTML = hist.map(i=>`<p>${i.title} - ${i.price}</p>`).join("");
}
document.getElementById("clear-hist").addEventListener("click",()=>{hist=[]; updateHist();});

// Favoris popup
document.getElementById("fav-settings").addEventListener("click",()=>{openPopup("fav-popup"); updateFav();});
function updateFav(){
  const div = document.getElementById("fav-list");
  div.innerHTML = fav.map(i=>`<p>${i.title} - ${i.price}</p>`).join("");
}
document.getElementById("clear-fav").addEventListener("click",()=>{fav=[]; updateFav();});

// Marque pr√©f√©r√©e
document.getElementById("marque-pref").addEventListener("click",()=>{
  if(!vip) {showNotif("Fonctionnalit√© VIP !"); return;}
  openPopup("marque-popup");
  const div = document.getElementById("marque-list");
  div.innerHTML = marques.map(m=>`<label><input type="checkbox" class="marque-check"> ${m}</label>`).join("");
});

// Notifications toggle
document.getElementById("notif-toggle").addEventListener("change",e=>{notif=e.target.checked;});

// 0 Delay toggle
document.getElementById("delay-toggle").addEventListener("change",e=>{zeroDelay=e.target.checked;});

// Nouvel article toutes les 5s si VIP
setInterval(()=>{
  if(vip){
    index = (index + 1) % items.length;
    showItem();
  }
},5000);
</script>

</body>
</html>
