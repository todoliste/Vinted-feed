<!DOCTYPE html>  <html lang="fr">  
<head>  
<meta charset="utf-8" />  
<meta name="viewport" content="width=device-width,initial-scale=1" />  
<title>Vin+ Web</title>  
<style>  
  :root{  
    --bg:#f5f7fb; --card:#ffffff; --text:#222;  
    --accent:#2f80ed; --vip:#f5b041; --good:#2ecc71; --good-dark:#1e8449;  
    --muted:#9aa3b2;  
  }  
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;background:var(--bg);color:var(--text);display:flex;flex-direction:column;align-items:center;min-height:100vh;transition:background .25s,color .25s}  
  body.dark{--bg:#0f1113;--card:#141518;--text:#e6eef6;--muted:#718096}  
  header{position:fixed;top:0;left:0;right:0;height:64px;display:flex;align-items:center;justify-content:flex-end;padding:0 14px;background:rgba(255,255,255,0.6);backdrop-filter:blur(6px);z-index:50;box-shadow:0 1px 8px rgba(0,0,0,.04)}  
  body.dark header{background:rgba(10,10,10,0.5)}  
  #settings-toggle{cursor:pointer;font-size:20px;padding:8px;border-radius:8px}  
  /* settings small popup */  
  #settings{position:fixed;top:74px;right:10px;width:240px;padding:8px;border-radius:12px;background:var(--card);box-shadow:0 8px 30px rgba(2,6,23,.12);display:none;z-index:60}  
  #settings h4{margin:4px 0 8px 0;font-size:14px;text-align:center}  
  #settings label{display:block;font-size:13px;margin:6px 0;color:var(--muted)}  
  .vip-section button{width:100%;padding:8px;border-radius:10px;border:0;font-weight:700;cursor:pointer;margin-top:6px}  
  #vip-btn{background:linear-gradient(90deg,var(--vip),#e67e22);color:#111}  
  #favorites-view,#history-view{background:var(--accent);color:#fff;display:none}  
  #notif-label{display:none;font-size:13px}  
  /* brand grid (VIP only) */  
  .brand-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;margin-top:8px}  
  .brand-cell{background:rgba(0,0,0,.03);padding:6px;border-radius:8px;text-align:center;font-size:12px;cursor:pointer;user-select:none;transition:transform .15s,background .15s,color .15s}  
  .brand-cell:hover{transform:translateY(-3px)}  
  .brand-cell[data-active="true"]{background:linear-gradient(90deg,var(--good),#2bd37f);color:#04260a}  
  .brand-cell[data-active="false"]{background:rgba(0,0,0,.04);color:var(--muted)}  
  body.dark .brand-cell{background:rgba(255,255,255,0.03)}  
  body.dark .brand-cell[data-active="true"]{background:linear-gradient(90deg,var(--good-dark),#1abc9c);color:#e6fff1}  
  /* main card */  
  main{margin-top:84px;width:92%;max-width:760px;display:flex;flex-direction:column;align-items:center}  
  .card{width:100%;border-radius:14px;background:var(--card);overflow:hidden;box-shadow:0 10px 30px rgba(10,20,40,.06);transition:transform .45s,opacity .35s}  
  .media{height:260px;background:#f0f3f7;display:flex;align-items:center;justify-content:center}  
  .media img{max-width:100%;max-height:100%;object-fit:contain;transition:transform .25s}  
  .info{padding:12px}  
  .info h2{margin:0;font-size:18px}  
  .info p{margin:6px 0;color:var(--muted);font-size:13px}  
  .price{color:var(--accent);font-weight:800;margin-top:6px}  
  .btns{display:flex;gap:8px;justify-content:center;padding:12px;flex-wrap:wrap}  
  .btn{padding:8px 14px;border-radius:10px;border:0;font-weight:700;cursor:pointer}  
  .btn.ghost{background:rgba(0,0,0,0.06)}  
  .btn.skip{background:#6b7280;color:#fff}  
  .btn.fav{background:#ef4444;color:#fff}  
  .btn.vinted{background:#16a34a;color:#fff}  
  /* small popups (compact) */  
  .popup{position:fixed;left:50%;transform:translateX(-50%);min-width:260px;max-width:360px;background:var(--card);padding:10px;border-radius:12px;box-shadow:0 12px 30px rgba(2,6,23,.12);z-index:80;display:none}  
  .popup h4{margin:0 0 6px 0;font-size:15px}  
  .item-list{display:flex;flex-direction:column;gap:8px}  
  .item-row{display:flex;align-items:center;justify-content:space-between;gap:8px}  
  .item-row .left{display:flex;gap:8px;align-items:center}  
  .item-row img{width:44px;height:44px;border-radius:8px;object-fit:cover}  
  .item-row button{padding:6px 8px;border-radius:8px;border:0;background:var(--accent);color:#fff;cursor:pointer;font-weight:700}  
  /* payment bottom sheet */  
  #payment-sheet{position:fixed;left:50%;transform:translate(-50%,110%);bottom:12px;width:92%;max-width:420px;background:var(--card);border-radius:14px;padding:12px;box-shadow:0 20px 50px rgba(2,6,23,.2);z-index:200;display:none;opacity:0;transition:transform .45s ease,opacity .3s}  
  #payment-sheet.show{transform:translate(-50%,0);opacity:1;display:block}  
  #payment-sheet h4{margin:0 0 8px 0}  
  #payment-sheet p{margin:6px 0;color:var(--muted);font-size:13px}  
  .pay-actions{display:flex;gap:8px;margin-top:10px;justify-content:space-between}  
  .pay-btn{flex:1;padding:10px;border-radius:10px;border:0;font-weight:800;cursor:pointer}  
  .paypal{background:#ffc439;color:#000}  
  .cancel{background:rgba(0,0,0,.06)}  
  /* floating heart animation */  
  .float-heart{position:fixed;left:50%;transform:translateX(-50%);top:40%;font-size:32px;opacity:0;pointer-events:none;animation:pop 900ms ease forwards}  
  @keyframes pop{0%{transform:translate(-50%,0) scale(.6);opacity:0}30%{opacity:1;transform:translate(-50%,-40px) scale(1.1)}100%{opacity:0;transform:translate(-50%,-80px) scale(.9)}}  
  /* card skip animation */  
  .card.slide-left{transform:translateX(-120%) rotate(-8deg) scale(.92);opacity:0}  
  .card.zoom{transform:scale(1.03)}  
  /* small responsive */  
  @media(max-width:420px){  
    .brand-grid{grid-template-columns:repeat(3,1fr)}  
    .media{height:200px}  
    #settings{width:86%;right:6%;top:72px}  
    #payment-sheet{left:50%;bottom:10px}  
  }  
</style>  
</head>  
<body>  
  <header>  
    <div id="settings-toggle" title="Param√®tres">‚öôÔ∏è</div>  
  </header>    <div id="settings" aria-hidden="true">  
    <h4>Param√®tres</h4>  
    <label><input id="darkToggle" type="checkbox"> Mode sombre</label>  <div class="vip-section" style="margin-top:8px">  
  <h4 style="margin:6px 0 6px 0;font-size:14px">‚≠ê VIP</h4>  
  <button id="vip-btn">üíé Devenir VIP</button>  
  <button id="favorites-view">‚ù§Ô∏è Favoris</button>  
  <button id="history-view">üïò Historique</button>  
  <label id="" style=""><input id="" type=""></label>  

  <div id="fav-brands" class="brand-grid" style="display:none">  
    <!-- 20 marques -->  
    <div class="brand-cell" data-brand="Nike" data-active="false">üëü<br>Nike</div>  
    <div class="brand-cell" data-brand="Adidas" data-active="false">‚ö°<br>Adidas</div>  
    <div class="brand-cell" data-brand="Moncler" data-active="false">üß•<br>Moncler</div>  
    <div class="brand-cell" data-brand="CP Company" data-active="false">üß¢<br>CP Co</div>  
    <div class="brand-cell" data-brand="Ralph Lauren" data-active="false">üêé<br>Ralph</div>  
    <div class="brand-cell" data-brand="Gucci" data-active="false">üíé<br>Gucci</div>  
    <div class="brand-cell" data-brand="Louis Vuitton" data-active="false">üëú<br>LV</div>  
    <div class="brand-cell" data-brand="Stone Island" data-active="false">‚õì<br>Stone</div>  
    <div class="brand-cell" data-brand="Supreme" data-active="false">üî•<br>Supreme</div>  
    <div class="brand-cell" data-brand="Tommy Hilfiger" data-active="false">üè¥<br>Tommy</div>  
    <div class="brand-cell" data-brand="New Balance" data-active="false">üèÉ‚Äç‚ôÇÔ∏è<br>NB</div>  
    <div class="brand-cell" data-brand="Vans" data-active="false">üëü<br>Vans</div>  
    <div class="brand-cell" data-brand="Reebok" data-active="false">‚ö°<br>Reebok</div>  
    <div class="brand-cell" data-brand="Carhartt" data-active="false">üõ†<br>Carhartt</div>  
    <div class="brand-cell" data-brand="Patagonia" data-active="false">üèî<br>Patagonia</div>  
    <div class="brand-cell" data-brand="Fendi" data-active="false">üéÄ<br>Fendi</div>  
    <div class="brand-cell" data-brand="Balenciaga" data-active="false">üëü<br>Balenciaga</div>  
    <div class="brand-cell" data-brand="Dior" data-active="false">‚ú®<br>Dior</div>  
    <div class="brand-cell" data-brand="H&M" data-active="false">üëï<br>H&M</div>  
    <div class="brand-cell" data-brand="Zara" data-active="false">üß•<br>Zara</div>  
  </div>  
</div>

  </div>  <button id="" title=""></>

  <main>  
    <div class="card" id="card" role="region" aria-label="Article">  
      <div class="media"><img id="item-img" src="" alt="article"></div>  
      <div class="info">  
        <h2 id="item-title"></h2>  
        <p id="item-brand"></p>  
        <p id="item-size"></p>  
        <p id="item-condition"></p>  
        <div class="price" id="item-price"></div>  
      </div>  
    </div>  <div class="btns">  
  <button class="btn skip" id="skip-btn">‚è≠ Passer</button>  
  <button class="btn fav" id="favorite-btn" style="display:none">‚ù§Ô∏è Favoris</button>  
  <button class="btn vinted" id="vinted-btn">üõç Voir sur Vinted</button>  
</div>

  </main>    <!-- compact popups -->    <div id="history-popup" class="popup" style="top:90px"></div>  
  <div id="favorites-popup" class="popup" style="top:90px"></div>  
  <div id="best-popup" class="popup" style="top:90px"></div>    <!-- payment bottom sheet -->    <div id="payment-sheet" role="dialog" aria-modal="true">  
    <h4>üí≥ Devenir VIP</h4>  
    <p><strong>Prix :</strong> 9,99‚Ç¨ / mois</p>  
    <p style="color:var(--muted);font-size:13px;margin:6px 0">Fonctionnalit√©s : Favoris, Historique, Marques favorites filtrables.</p>  
    <div style="display:flex;gap:8px" class="pay-actions">  
      <button class="pay-btn paypal" id="pay-paypal">Payer (PayPal)</button>  
      <button class="pay-btn cancel" id="pay-cancel">Annuler</button>  
    </div>  
  </div>    <!-- floating heart (created dynamically) -->    <script>  
  // --- donn√©es de d√©monstration ---  
  const items = [  
    {title:"Sweat Nike Tech", brand:"Nike", size:"M", condition:"Tr√®s bon √©tat", price:"45‚Ç¨", link:"#", image:"https://cdn-icons-png.flaticon.com/512/2913/2913461.png"},  
    {title:"T-shirt Adidas", brand:"Adidas", size:"L", condition:"Neuf", price:"60‚Ç¨", link:"#", image:"https://cdn-icons-png.flaticon.com/512/2913/2913461.png"},  
    {title:"Veste Moncler", brand:"Moncler", size:"S", condition:"Tr√®s bon √©tat", price:"300‚Ç¨", link:"#", image:"https://cdn-icons-png.flaticon.com/512/2913/2913461.png"},  
    {title:"Jean Ralph Lauren", brand:"Ralph Lauren", size:"42", condition:"Bon √©tat", price:"90‚Ç¨", link:"#", image:"https://cdn-icons-png.flaticon.com/512/2913/2913461.png"},  
  ];  
  
  let index = 0;  
  let isVIP = false;  
  let history = [], favorites = [], bestArticles = [];  
  let favBrands = []; // marques activ√©es  
  let notifBest = false;  
  
  // --- √©l√©ments DOM ---  
  const settingsToggle = document.getElementById('settings-toggle');  
  const settings = document.getElementById('settings');  
  const darkToggle = document.getElementById('darkToggle');  
  const vipBtn = document.getElementById('vip-btn');  
  const favViewBtn = document.getElementById('favorites-view');  
  const histViewBtn = document.getElementById('history-view');  
  const notifLabel = document.getElementById('notif-label');  
  const favBrandsGrid = document.getElementById('fav-brands');  
  const brandCells = Array.from(document.querySelectorAll('.brand-cell'));  
  
  const itemImg = document.getElementById('item-img');  
  const itemTitle = document.getElementById('item-title');  
  const itemBrand = document.getElementById('item-brand');  
  const itemSize = document.getElementById('item-size');  
  const itemCondition = document.getElementById('item-condition');  
  const itemPrice = document.getElementById('item-price');  
  
  const card = document.getElementById('card');  
  const skipBtn = document.getElementById('skip-btn');  
  const favBtn = document.getElementById('favorite-btn');  
  const vintedBtn = document.getElementById('vinted-btn');  
  
  const bestBtn = document.getElementById('best-btn');  
  const bestPopup = document.getElementById('best-popup');  
  const historyPopup = document.getElementById('history-popup');  
  const favoritesPopup = document.getElementById('favorites-popup');  
  
  const paymentSheet = document.getElementById('payment-sheet');  
  const payPaypal = document.getElementById('pay-paypal');  
  const payCancel = document.getElementById('pay-cancel');  
  
  // --- affichage article ---  
  function showItem(opts={animate:true}){  
    const item = items[index];  
    // filter by favBrands if VIP and some brands selected  
    if(isVIP && favBrands.length>0 && !favBrands.includes(item.brand)){  
      index = (index+1) % items.length;  
      showItem(opts); return;  
    }  
    if(opts.animate){  
      card.classList.add('zoom');  
      setTimeout(()=>card.classList.remove('zoom'),300);  
    }  
    itemImg.src = item.image;  
    itemTitle.textContent = item.title;  
    itemBrand.textContent = "üè∑ " + item.brand;  
    itemSize.textContent = "üìè " + item.size;  
    itemCondition.textContent = "üîπ " + item.condition;  
    itemPrice.textContent = "üí∞ " + item.price;  
    // show/hide favorite control  
    favBtn.style.display = isVIP ? 'inline-block' : 'none';  
    bestBtn.style.display = (isVIP && bestArticles.length>0) ? 'block' : 'none';  
  }  
  
  // --- settings toggle ---  
  settingsToggle.addEventListener('click', ()=> settings.style.display = settings.style.display === 'block' ? 'none' : 'block');  
  
  // --- dark mode ---  
  darkToggle.addEventListener('change', ()=> document.body.classList.toggle('dark-mode'));  
  
  // --- VIP flow: open bottom sheet ---  
  vipBtn.addEventListener('click', ()=>{  
    if(isVIP){  
      alert("‚≠ê Vous √™tes d√©j√† VIP");  
      return;  
    }  
    paymentSheet.classList.add('show');  
  });  
  payCancel.addEventListener('click', ()=> paymentSheet.classList.remove('show'));  
  payPaypal.addEventListener('click', ()=>{  
    // simulate payment animation  
    payPaypal.disabled = true;  
    payPaypal.textContent = 'Paiement...';  
    setTimeout(()=>{  
      isVIP = true;  
      paymentSheet.classList.remove('show');  
      payPaypal.disabled = false;  
      payPaypal.textContent = 'Payer (PayPal)';  
      vipBtn.textContent = '‚≠ê VIP Actif';  
      favViewBtn.style.display = 'block';  
      histViewBtn.style.display = 'block';  
      notifLabel.style.display = 'block';  
      favBrandsGrid.style.display = 'grid';  
      showItem({animate:false});  
    },1100);  
  });  
  
  // --- brand click toggle (no separate button) ---  
  brandCells.forEach(cell=>{  
    cell.addEventListener('click', ()=>{  
      if(!isVIP){ // ignore if not VIP  
        // small shake to indicate locked  
        cell.animate([{transform:'translateY(0)'},{transform:'translateY(-6px)'},{transform:'translateY(0)'}],{duration:260});  
        return;  
      }  
      const brand = cell.dataset.brand;  
      const active = cell.dataset.active === 'true';  
      cell.dataset.active = (!active).toString();  
      if(!active){  
        // activate  
        if(!favBrands.includes(brand)) favBrands.push(brand);  
      } else {  
        // deactivate  
        favBrands = favBrands.filter(b=>b!==brand);  
      }  
      // subtle pulse  
      cell.animate([{transform:'scale(1)'},{transform:'scale(1.06)'},{transform:'scale(1)'}],{duration:260});  
      showItem();  
    });  
  });  
  
  // --- skip with animation ---  
  skipBtn.addEventListener('click', ()=>{  
    card.classList.add('slide-left');  
    setTimeout(()=>{  
      history.push(items[index]);  
      if(isVIP && notifBest){  
        bestArticles.push(items[index]);  
        bestBtn.classList.add('blink');  
      }  
      index = (index+1) % items.length;  
      card.classList.remove('slide-left');  
      showItem();  
    },380);  
  });  
  
  // --- favorite: add and heart pop ---  
  favBtn.addEventListener('click', ()=>{  
    const it = items[index];  
    if(!favorites.includes(it)) favorites.push(it);  
    // create floating heart  
    const h = document.createElement('div');  
    h.className = 'float-heart'; h.textContent = 'üíñ';  
    document.body.appendChild(h);  
    setTimeout(()=> h.remove(),900);  
  });  
  
  // --- open vinted link ---  
  vintedBtn.addEventListener('click', ()=> window.open(items[index].link,'_blank'));  
  
  // --- favorites popup (compact) ---  
  favViewBtn.addEventListener('click', ()=>{  
    if(!isVIP){ alert('VIP uniquement'); return; }  
    const popup = favoritesPopup;  
    popup.innerHTML = '<span class="popup-close">‚úñ</span><h4>‚ù§Ô∏è Favoris</h4><div class="item-list"></div>';  
    const list = popup.querySelector('.item-list');  
    (favorites.slice(-3).reverse()).forEach(it=>{  
      const row = document.createElement('div'); row.className='item-row';  
      row.innerHTML = `<div class="left"><img src="${it.image}" alt=""><div style="font-size:13px">${it.title}<br><small style="color:var(--muted)">${it.price}</small></div></div><button onclick="window.open('${it.link}','_blank')">Voir</button>`;  
      list.appendChild(row);  
    });  
    popup.style.display='block';  
    popup.querySelector('.popup-close').onclick = ()=> popup.style.display='none';  
  });  
  
  // --- history popup ---  
  histViewBtn.addEventListener('click', ()=>{  
    if(!isVIP){ alert('VIP uniquement'); return; }  
    const popup = historyPopup;  
    popup.innerHTML = '<span class="popup-close">‚úñ</span><h4>üïò Historique</h4><div class="item-list"></div>';  
    const list = popup.querySelector('.item-list');  
    (history.slice(-3).reverse()).forEach(it=>{  
      const row = document.createElement('div'); row.className='item-row';  
      row.innerHTML = `<div class="left"><img src="${it.image}" alt=""><div style="font-size:13px">${it.title}<br><small style="color:var(--muted)">${it.price}</small></div></div><button onclick="window.open('${it.link}','_blank')">Voir</button>`;  
      list.appendChild(row);  
    });  
    popup.style.display='block';  
    popup.querySelector('.popup-close').onclick = ()=> popup.style.display='none';  
  });  
  
  // --- best articles popup ---  
  bestBtn.addEventListener('click', ()=>{  
    if(!isVIP){ alert('VIP uniquement'); return; }  
    if(bestArticles.length === 0){ alert('üòî Pas de meilleurs articles'); return; }  
    bestBtn.classList.remove('blink');  
    const popup = bestPopup;  
    popup.innerHTML = '<span class="popup-close">‚úñ</span><h4>‚ùó Meilleurs articles</h4><div class="item-list"></div>';  
    const list = popup.querySelector('.item-list');  
    (bestArticles.slice(-3).reverse()).forEach(it=>{  
      const row = document.createElement('div'); row.className='item-row';  
      row.innerHTML = `<div class="left"><img src="${it.image}" alt=""><div style="font-size:13px">${it.title}<br><small style="color:var(--muted)">${it.price}</small></div></div><button onclick="window.open('${it.link}','_blank')">Voir</button>`;  
      list.appendChild(row);  
    });  
    // reset bestArticles after view  
    bestArticles.length = 0;  
    popup.style.display='block';  
    popup.querySelector('.popup-close').onclick = ()=> popup.style.display='none';  
  });  
  
  // --- notification toggle ---  
  document.getElementById('notif-best').addEventListener('change', e=> notifBest = e.target.checked);  
  
  // initial show  
  showItem();  
  // hide settings when click outside  
  document.addEventListener('click', (e)=>{  
    if(!settings.contains(e.target) && e.target !== settingsToggle) settings.style.display='none';  
  });  
  // small keyboard next for testing (arrow right)  
  document.addEventListener('keydown',(e)=>{ if(e.key==='ArrowRight') skipBtn.click(); if(e.key==='f') favBtn.click(); });  
  
  // expose some state for debugging (optional)  
  window._demo = { items, get state(){ return {isVIP,favBrands,favorites,history,bestArticles} } };  
  </script>  </body>  
</html>
