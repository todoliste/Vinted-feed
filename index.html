<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vinted Feed VIP Demo</title>
<style>
body{
  margin:0; font-family:"Poppins",sans-serif; background:#f5f5f5; color:#333; height:100vh;
  display:flex; flex-direction:column; align-items:center; justify-content:center; overflow:hidden;
  transition: background 0.3s,color 0.3s;
}
.dark-mode{background:#121212;color:#f1f1f1;}

header{
  position:fixed; top:0;width:100%; height:60px; display:flex; justify-content:space-between; align-items:center;
  padding:0 16px; background:rgba(255,255,255,0.8); backdrop-filter:blur(8px); box-shadow:0 1px 5px rgba(0,0,0,0.05); z-index:10;
}
.dark-mode header{background:rgba(25,25,25,0.8);}
.logo{display:flex;align-items:center;font-weight:600;font-size:1rem; gap:8px;}
.logo img{width:24px;height:24px;}
#discord-btn img{width:28px;height:28px; cursor:pointer; transition:transform 0.2s;}
#discord-btn img:hover{transform:scale(1.1);}
#vip-btn{margin-left:12px; padding:6px 12px; background:#2f80ed;color:white;border:none;border-radius:8px;cursor:pointer;}

#settings,#vip-popup{
  position:fixed; top:70px; right:10px; background:#fff; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.2);
  padding:12px; width:220px; display:none; z-index:10;
}
.dark-mode #settings,.dark-mode #vip-popup{background:#1f1f1f; color:#fff;}
#settings label,#vip-popup label{display:block; margin-top:8px; font-size:0.9em;}
#settings input,#vip-popup input{margin-right:6px;width:100%;}

main{text-align:center; margin-top:60px; width:90%; max-width:400px; position:relative; height:500px;}
.card{
  position:absolute;width:100%;border-radius:16px; box-shadow:0 6px 18px rgba(0,0,0,0.08); overflow:hidden;
  transition:transform 0.5s ease,opacity 0.5s ease; display:flex; flex-direction:column; align-items:center; justify-content:center; background:#fff;
}
.dark-mode .card{background:#1f1f1f;}
.card img{width:80%;height:240px;object-fit:contain;background:#f9f9f9;}
.card .info{padding:12px;text-align:left;}
.info h2{font-size:1.1rem;margin:4px 0;}
.info p{font-size:0.9rem;margin:2px 0;}
.price{color:#2f80ed;font-weight:600;font-size:1rem;margin-top:6px;}

.btns{
  margin-top:16px;
  display:flex;
  justify-content:space-around;
}
button{
  background:#2f80ed;
  border:none;
  padding:10px 20px;
  border-radius:10px;
  color:#fff;
  font-weight:600;
  cursor:pointer;
  transition:opacity 0.2s, transform 0.2s;
}
button:hover{opacity:0.9; transform:scale(1.03);}
#skip-btn{background:#666;}

#overlay{
  position:fixed; inset:0; background:rgba(0,0,0,0.7); display:flex; align-items:center; justify-content:center; z-index:2000;
}
.loginCard{background:#fff; padding:20px; border-radius:12px; width:300px; text-align:center; box-shadow:0 12px 40px rgba(0,0,0,0.4);}
.dark-mode .loginCard{background:#1f1f1f; color:#fff;}
.loginCard button{margin-top:12px;padding:8px 12px;border-radius:8px;border:none;background:#5865f2;color:white;cursor:pointer;}
</style>
</head>
<body>

<header>
  <div class="logo">
    <img src="https://cdn-icons-png.flaticon.com/512/925/925123.png" alt="V√™tements"> Vinted Feed
  </div>
  <div>
    <button id="vip-btn">VIP</button>
    <div id="discord-btn">
      <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/discord.svg" alt="Discord">
    </div>
  </div>
</header>

<div id="overlay">
  <div class="loginCard">
    <h3>Connexion via Discord</h3>
    <p>Simulation pour r√©cup√©rer pseudo et avatar</p>
    <button id="loginBtn">Se connecter</button>
  </div>
</div>

<div id="settings">
  <h4>Param√®tres</h4>
  <label><input type="checkbox" id="darkToggle"> Mode sombre</label>
</div>

<div id="vip-popup">
  <h4>VIP - Fonctionnalit√©s</h4>
  <label><input type="checkbox" id="vipPaid"> Payer VIP (simul√©)</label>
  <h5>Marques pr√©f√©r√©es</h5>
  <div id="brandsList"></div>
  <label><input type="checkbox" id="allBrands"> Toutes marques</label>
  <label><input type="checkbox" id="zeroDelay"> 0 Delay</label>
  <label><input type="checkbox" id="notifications"> Notifications</label>
  <label><input type="checkbox" id="historyToggle"> Historique des skips</label>
</div>

<main>
  <div id="cardContainer"></div>
  <div class="btns">
    <button id="skip-btn">‚è≠ Skip</button>
    <button id="vinted-btn">üõç Voir sur Vinted</button>
  </div>
</main>

<script>
// === Variables ===
const brands=["Nike","Adidas","Ralph Lauren","CP Company","Puma","Reebok","Under Armour","New Balance","Converse","Vans","The North Face","Columbia","Patagonia","Fila","Champion","Tommy Hilfiger","Lacoste","Jordan","Asics","Carhartt"];
const brandsListEl=document.getElementById('brandsList');
const selectedBrands=new Set(brands);
let allBrandsChecked=false;
let index=0;
let items=[],historyItems=[]; // cartes et skip historique
let currentUser=null;
let vipUnlocked=false;
let zeroDelay=false;
const cardContainer=document.getElementById('cardContainer');

// === Cr√©er boutons marques ===
brands.forEach(b=>{
  const btn=document.createElement('label');
  btn.innerHTML=`<input type="checkbox" value="${b}" checked> ${b}`;
  btn.querySelector('input').addEventListener('change',(e)=>{
    if(e.target.checked) selectedBrands.add(b);
    else selectedBrands.delete(b);
    renderStack();
  });
  brandsListEl.appendChild(btn);
});

// === Cases sp√©ciales ===
document.getElementById('allBrands').addEventListener('change', e=>{
  allBrandsChecked=e.target.checked;
  if(allBrandsChecked){
    brands.forEach(b=>selectedBrands.add(b));
  }
  renderStack();
});

// === Login simul√© ===
document.getElementById('loginBtn').onclick=()=>{
  currentUser={name:'Exemple#1234'};
  document.getElementById('overlay').style.display='none';
  initFeed();
};

// === VIP simul√© ===
document.getElementById('vip-btn').onclick=()=>{ document.getElementById('vip-popup').style.display='block'; };
document.getElementById('vipPaid').addEventListener('change', e=>{
  vipUnlocked=e.target.checked;
});

// === Dark mode ===
document.getElementById('darkToggle').addEventListener('change', ()=>{
  document.body.classList.toggle("dark-mode");
});

// === G√©n√©ration al√©atoire d'article ===
function generateArticle(i){
  const brand=brands[Math.floor(Math.random()*brands.length)];
  const priceV=Math.floor(Math.random()*90)+10;
  const priceE=priceV+Math.floor(Math.random()*200)+10;
  const gain=priceE-priceV;
  return {id:'a-'+Date.now()+'-'+i,title:`${brand} Article ${Math.floor(Math.random()*999)}`,brand,priceV,priceE,gain,image:`https://via.placeholder.com/320x200?text=${encodeURIComponent(brand)}`};
}

// === Initialiser le feed ===
function initFeed(){
  items=[];
  for(let i=0;i<10;i++) items.push(generateArticle(i));
  renderStack();
  if(vipUnlocked && zeroDelay){
    setInterval(()=>{ items.push(generateArticle(Date.now())); renderStack(); },5000);
  }else{
    setInterval(()=>{ items.push(generateArticle(Date.now())); renderStack(); },30000);
  }
}

// === Rendu cartes filtr√©es ===
function renderStack(){
  cardContainer.innerHTML='';
  const filtered=allBrandsChecked?items:items.filter(it=>selectedBrands.has(it.brand));
  if(filtered.length===0){cardContainer.innerHTML='<div style="color:#888">Aucun article</div>'; return;}
  const top=filtered[0];
  const card=document.createElement('div');
  card.className='card';
  card.innerHTML=`<img src="${top.image}"><div class="info"><h2>${top.title}</h2><p>Marque: ${top.brand}</p><div class="price">‚Ç¨${top.priceV} ¬∑ Gain: ‚Ç¨${top.gain}</div></div>`;
  cardContainer.appendChild(card);
}

// === Swipe ===
function swipe(){
  if(items.length===0) return;
  const card=cardContainer.querySelector('.card');
  card.style.transform='translateX(-1000px)';
  card.style.opacity='0';
  historyItems.push(items.shift());
  setTimeout(renderStack,400);
}

// === Boutons ===
document.getElementById('skip-btn').addEventListener('click', swipe);
document.getElementById('vinted-btn').addEventListener('click', ()=>{
  if(items.length>0) window.open('#','_blank');
});
document.getElementById('zeroDelay').addEventListener('change', e=>zeroDelay=e.target.checked);
</script>
</body>
</html>
